// JSON data stored in variable 
// new types: edited_book, web_published, translated_book, miscv

var data4 = [{"citation_id":8,"title":"Intentional icons: Towards an evolutionary cognitive ethology","pubtype":"article","authors":["Allen, Colin","Bekoff, Marc"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Ethology","month":"","number":"","pages":"1-16","publisher":"","location":"","volume":"91","year":"1992","owner":"colallen","raw":"Bekoff, M. & Allen, C. 1992 \"Intentional icons: Towards an evolutionary cognitive ethology.\" Ethology 91:1-16.","keywords":""},{"citation_id":54,"title":"How to reason without words: Inference as categorization","pubtype":"article","authors":["Vigo, Ronaldo","Allen, Colin"],"abs":"article","doi":"10.1007/s10339-008-0220-4","url":"http://www.springerlink.com/content/n542807222025413/","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Cognitive Processing","month":"","number":"","pages":"77-88","publisher":"","location":"","volume":"10","year":"2009","owner":"colallen","raw":"Vigo, R., and Allen, C. (2009) How to reason without words: Inference as categorization. Cognitive Processing 10: 77-88.","keywords":"Animal cognition, Categorization, Learning, Reasoning, Similarity"},{"citation_id":497,"title":"Baboon Metaphysics: The Evolution of a Social Mind","pubtype":"book","authors":["Cheney, Dorothy L.","Seyfarth, Robert M."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"University of Chicago Press","location":"Chicago","volume":"","year":"2007","owner":"colallen","raw":"Cheney, D. L., and Seyfarth, R. M. (2007). Baboon Metaphysics: The Evolution of a Social Mind, Chicago: University of Chicago Press.","keywords":""},{"citation_id":508,"title":"Intentional systems in cognitive ethology: The ‘Panglossian paradigm’ defended","pubtype":"article","authors":["Dennett, D. C."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Behavioral and Brain Sciences","month":"","number":"","pages":"343-390","publisher":"","location":"","volume":"6","year":"1983","owner":"sep","raw":"Dennett, D. C. (1983). “Intentional systems in cognitive ethology: The ‘Panglossian paradigm’ defended,” Behavioral and Brain Sciences, 6: 343–390.","keywords":""},{"citation_id":521,"title":"Chimpanzees: Self-recognition","pubtype":"article","authors":["Gallup, Gordon G. Jr."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Science","month":"","number":"","pages":"86-87","publisher":"","location":"","volume":"167","year":"1970","owner":"colallen","raw":"Gallup, G. G., Jr. (1970). “Chimpanzees: Self-recognition,” Science, 167: 86-87.","keywords":""},{"citation_id":522,"title":"The Mirror Test","pubtype":"inbook","authors":["Gallup, Gordon G. Jr.","Anderson, J. R.","Shillito, D. J."],"abs":"inbook","doi":"","url":"","booktitle":"The Cognitive Animal","chapter":"","edition":"","editor":"Bekoff, M.; Allen, C.; Burghardt, G. M.","translator":"","journal":"","month":"","number":"","pages":"325-334","publisher":"MIT Press","location":"Cambridge, MA","volume":"","year":"2002","owner":"sep","raw":"Gallup, G. G., Jr., Anderson, J. R., & Shillito, D. J. (2002). “The Mirror Test,” in Bekoff, Allen, & Burghardt 2002.","keywords":""},{"citation_id":540,"title":"The faculty of language: What is it, who has it, and how did it evolve?","pubtype":"article","authors":["Chomsky, Noam","Fitch, W. Tecumseh","Hauser, Marc D."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Science","month":"","number":"","pages":"1569-1579","publisher":"","location":"","volume":"298","year":"2002","owner":"colallen","raw":"Hauser, M., Chomsky, N., & Fitch, W. Tecumseh (2002). “The faculty of language: What is it, who has it, and how did it evolve?” Science, 298: 1569–1579.","keywords":""},{"citation_id":566,"title":"The Alex Studies: Cognitive and communicative abilities of Grey parrots","pubtype":"book","authors":["Pepperberg, Irene M."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Harvard University Press","location":"Cambridge, MA","volume":"","year":"1999","owner":"colallen","raw":"Pepperberg, I.M. (1999). The Alex Studies: Cognitive and communicative abilities of Grey parrots, Cambridge, MA: Harvard University Press.","keywords":""},{"citation_id":585,"title":"Kanzi: The ape at the brink of the human mind","pubtype":"book","authors":["Savage-Rumbaugh, E. S."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"John Wiley & Sons","location":"New York","volume":"","year":"1996","owner":"colallen","raw":"Savage-Rumbaugh, S. (1996). Kanzi: The ape at the brink of the human mind, New York: John Wiley & Sons.","keywords":""},{"citation_id":672,"title":"How Monkeys See the World: Inside the mind of another species","pubtype":"book","authors":["Cheney, Dorothy L.","Seyfarth, Robert M."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"University of Chicago Press","location":"Chicago","volume":"","year":"1990","owner":"colallen","raw":"* Cheney, D.L. & Seyfarth, R.M. (1990). How Monkeys See the World: Inside the Mind of Another Species. The University of Chicago Press.","keywords":""},{"citation_id":681,"title":"Rational Animals","pubtype":"article","authors":["Davidson, Donald"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Dialectica","month":"","number":"","pages":"317-327","publisher":"","location":"","volume":"36","year":"1982","owner":"colallen","raw":"* Davidson, D. (1982). “Rational Animals.” Dialectica, 36: 317-328.","keywords":""},{"citation_id":694,"title":"Language and Animal Communication: Parallels and Contrasts","pubtype":"inbook","authors":["Evans, Christopher S.","Marler, Peter"],"abs":"inbook","doi":"","url":"","booktitle":"Comparative Approaches to Cognitive Science","chapter":"","edition":"","editor":"Roitblat, H. L.; Meyer, J. A.","translator":"","journal":"","month":"","number":"","pages":"341-382","publisher":"MIT Press","location":"Cambridge","volume":"","year":"1995","owner":"colallen","raw":"* Evans, C. & Marler, P. (1995). “Language and Animal Communication: Parallels and Contrasts.” In H. L. Roitblat & J. A. Meyer (Eds.), Comparative Approaches to Cognitive Science. Cambridge MA: MIT Press. 341-382.","keywords":""},{"citation_id":696,"title":"On the Meaning of Alarm Calls: Functional Reference in an Avian Vocal System","pubtype":"article","authors":["Evans, Christopher S.","Evans, Linda","Marler, Peter"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Animal Behaviour","month":"","number":"","pages":"23-38","publisher":"","location":"","volume":"46","year":"1993","owner":"colallen","raw":"* Evans, C.S., Evans, L. & Marler, P. (1993a). “On the Meaning of Alarm Calls: Functional Reference in an Avian Vocal System.” Animal Behaviour, 46: 23-38.","keywords":""},{"citation_id":770,"title":"Kanzi, Evolution, and Language","pubtype":"article","authors":["Lloyd, Elisabeth A."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Biology and Philosophy","month":"","number":"","pages":"577-588","publisher":"","location":"","volume":"19","year":"2004","owner":"colallen","raw":"* Lloyd, E. (2004). “Kanzi, Evolution, and Language.” Biology and Philosophy, 19: 577-588.","keywords":""},{"citation_id":794,"title":"An Introduction to Comparative Psychology","pubtype":"book","authors":["Morgan, Conwy Lloyd"],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"W. Scott, Ltd.","location":"London","volume":"","year":"1894","owner":"colallen","raw":"* Morgan, C. L. (1894). An Introduction to Comparative Psychology. London: W. Scott, limited.","keywords":""},{"citation_id":815,"title":"Folk Physics for Apes","pubtype":"book","authors":["Povinelli, D. J."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Oxford University Press","location":"Oxford","volume":"","year":"2000","owner":"sep","raw":"* Povinelli, D. J. (2000). Folk Physics for Apes. Oxford, Oxford University Press.","keywords":""},{"citation_id":844,"title":"Cognition, Evolution, and Behavior. New York","pubtype":"book","authors":["Shettleworth, S. J."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Oxford University Press","location":"Oxford","volume":"","year":"1998","owner":"sep","raw":"* Shettleworth, S. J. (1998). Cognition, Evolution, and Behavior. New York: Oxford University Press.","keywords":""},{"citation_id":888,"title":"Referential Labeling in Diana Monkeys","pubtype":"article","authors":["Zuberbühler, K."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Animal Behavior","month":"","number":"","pages":"917-927","publisher":"","location":"","volume":"59","year":"2000","owner":"sep","raw":"* Zuberbühler, K. (2000). “Referential Labeling in Diana Monkeys.” Animal Behavior, 59: 917-927.","keywords":""},{"citation_id":889,"title":"Predator-Specific Alarm Calls in Campbell's Guenons","pubtype":"article","authors":["Zuberbühler, K."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Behavioral Ecology and Sociobiology","month":"","number":"","pages":"414-422","publisher":"","location":"","volume":"50","year":"2001","owner":"sep","raw":"* Zuberbühler, K. (2001). “Predator-Specific Alarm Calls in Campbell's Guenons.” Behavioral Ecology and Sociobiology, 50: 414-422.","keywords":""},{"citation_id":2884,"title":"Meaning","pubtype":"article","authors":["Grice, H. Paul"],"abs":"article","doi":"","url":"http://links.jstor.org/sici?sici=0031-8108%28195707%2966%3A3%3C377%3AM%3E2.0.CO%3B2-P","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"The Philosophical Review","month":"","number":"3","pages":"377-388","publisher":"Grice","location":"","volume":"66","year":"1957","owner":"colallen","raw":"Grice, P., 1957, “Meaning,” in Grice (1989), 213–223.","keywords":""},{"citation_id":4582,"title":"An Enquiry Concerning Human Understanding","pubtype":"book","authors":["Hume, D."],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Oxford University Press","location":"Oxford","volume":"","year":"1748","owner":"sep","raw":"Hume, D. (1748). An Enquiry Concerning Human Understanding, Oxford: Oxford University Press, 2005.","keywords":""},{"citation_id":5685,"title":"Ordering and executive functioning as a window on the evolution and development of cognitive systems.","pubtype":"article","authors":["McGonigle, Brendan","Chalmers, Margaret"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"International Journal of Comparative Psychology (2006)","month":"","number":"","pages":"241-267","publisher":"","location":"","volume":"19","year":"2006","owner":"colallen","raw":"McGonigle and Chalmers. Ordering and executive functioning as a window on the evolution and development of cognitive systems. International Journal of Comparative Psychology (2006) vol. 19 (2)","keywords":""},{"citation_id":5686,"title":"Rules and representations","pubtype":"book","authors":["Chomsky, Noam"],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Blackwell","location":"Oxford","volume":"","year":"1980","owner":"colallen","raw":"Chomsky, N. (1980). Rules and representations. Oxford, UK: Blackwell.","keywords":""},{"citation_id":5687,"title":"Connectionism and cognitive architecture: A critical analysis","pubtype":"article","authors":["Fodor, Jerry A.","Pylyshyn, Zenon W."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Cognition","month":"","number":"","pages":"3-71","publisher":"","location":"","volume":"28","year":"1988","owner":"colallen","raw":"Fodor, J. A. & Pylyshyn, Z. W. (1988). Connectionism and cognitive architecture: A criti- cal analysis. Cognition, 28, 3-71.","keywords":""},{"citation_id":5688,"title":"Biology and knowledge","pubtype":"book","authors":["Piaget, Jean"],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Edinburgh University Press","location":"Edinburgh","volume":"","year":"1971","owner":"colallen","raw":"Piaget, J. (1971). Biology and knowledge. Edinburgh, UK: Edinburgh University Press.","keywords":""},{"citation_id":5689,"title":"The formation of learning sets","pubtype":"article","authors":["Harlow, H."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Psychological Review","month":"","number":"","pages":"51-65","publisher":"","location":"","volume":"56","year":"1949","owner":"colallen","raw":"Harlow, H. (1949). The formation of learning sets. Psychological Review, 56, 51-65.","keywords":""},{"citation_id":5690,"title":"The Growth of Cognitive Structure in Monkeys and Men","pubtype":"inbook","authors":["McGonigle, Brendan","Chalmers, Margaret"],"abs":"inbook","doi":"","url":"","booktitle":"Animal Cognition and Sequential Behavior: Behavioral, Biological, and Computational Perspectives","chapter":"","edition":"","editor":"S. B. Fountain; M. D. Bunsey; J. H. Danks; M. K. McBeath,","translator":"","journal":"","month":"","number":"","pages":"287-332","publisher":"Kluwer Academic Publishers","location":"Dordrecht","volume":"","year":"2002","owner":"colallen","raw":"McGonigle and Chalmers. The Growth of Cognitive Structure in Monkeys and Men. Animal cognition and sequential behavior: Behavioral, biological and computational perspectives. (2002) pp. 287-332","keywords":""},{"citation_id":5691,"title":"Animal Mind and the Argument from Design","pubtype":"article","authors":["Blumberg, Mark S.","Wasserman, Edward A."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"American Psychologist","month":"","number":"","pages":"133-144","publisher":"","location":"","volume":"50","year":"1995","owner":"colallen","raw":"M. Blumberg and E. A. Wasserman, ‘‘Animal Mind and the Argument from Design,’’ American Psychologist 50 (1995), p. 133.","keywords":""},{"citation_id":5692,"title":"Emergents and rational behaviorism","pubtype":"article","authors":["Rumbaugh, Duane M."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Eye on Psi Chi","month":"","number":"","pages":"8-14","publisher":"","location":"","volume":"6","year":"2002","owner":"colallen","raw":"Rumbaugh, D. M. (2002). Emergents and rational behaviorism. Eye on Psi Chi, 6, 8-14.","keywords":""},{"citation_id":5693,"title":"Respondents, operants, and emergents: Toward an integrated perspective on behavior","pubtype":"inbook","authors":["Rumbaugh, Duane M.","Washburn, David A.","Hillix, W. A."],"abs":"inbook","doi":"","url":"","booktitle":"Learning as self-organizing process","chapter":"","edition":"","editor":"Pribram K; King J","translator":"","journal":"","month":"","number":"","pages":"57-73","publisher":"Erlbaum","location":"Hillsdale NJ","volume":"","year":"1996","owner":"colallen","raw":"Rumbaugh DM, Washburn DA, Hillix WA (1996) Respondents, operants, and emergents: Toward an integrated perspective on behavior. In: Pribram K, King J (eds) Learning as self-organizing process.Hillsdale NJ: Erlbaum, pp 57–73","keywords":""},{"citation_id":5694,"title":"Does the Chimpanzee have a Theory of Mind?","pubtype":"article","authors":["Premack, David","Woodruff, Guy"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Behavioral and Brain Sciences","month":"","number":"","pages":"515-526","publisher":"","location":"","volume":"1","year":"1978","owner":"colallen","raw":"Premack, D., and Woodruff, G. (1978). Does the chimpanzee have a theory of mind? Behav. Brain Sci. 1, 515–526.","keywords":""},{"citation_id":5695,"title":"Causal knowledge and imitation/emulation switching in chimpanzees (Pan troglodytes) and children (Homo sapiens).","pubtype":"article","authors":["Horner, Victoria","Whiten, Andrew"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Animal Cognition","month":"","number":"","pages":"164-181","publisher":"","location":"","volume":"8","year":"2005","owner":"colallen","raw":"Horner and Whiten. Causal knowledge and imitation/emulation switching in chimpanzees (Pan troglodytes) and children (Homo sapiens). Animal Cognition (2005) vol. 8 (3) pp. 164-181","keywords":""},{"citation_id":5696,"title":"Cultural learning","pubtype":"article","authors":["Tomasello, M.","Kruger, A.","Ratner, H."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Behavioral and Brain Sciences","month":"","number":"","pages":"495-552","publisher":"","location":"","volume":"16","year":"1993","owner":"colallen","raw":"Tomasello, M., Kruger, A., & Ratner, H. (1993). Cultural learning. Behavioral and Brain Sciences, 16, 495-552.","keywords":""},{"citation_id":5697,"title":"The Simian Tongue: The Long Debate on Animal Language","pubtype":"book","authors":["Radick, Gregory"],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"University of Chicago Press","location":"Chicago","volume":"","year":"2007","owner":"colallen","raw":"Radick, G. (2007). The Simian Tongue: The Long Debate on Animal Language. Chicago: The University of Chicago Press.","keywords":""},{"citation_id":5699,"title":"Cognition and Communication in Prairie Dogs","pubtype":"inbook","authors":["Slobodchikoff, Con N."],"abs":"inbook","doi":"","url":"","booktitle":"The Cognitive Animal: Empirical and Theoretical Perspectives on Animal Cognition","chapter":"","edition":"","editor":"Bekoff, M.; Allen, C.; Burghardt, G.M.","translator":"","journal":"","month":"","number":"","pages":"257-264","publisher":"MIT Press","location":"Cambridge, MA","volume":"","year":"2002","owner":"colallen","raw":"Slobodchikoff, C. N. (2002). Cognition and Communication in Prairie Dogs. In M. Bekoff, C. Allen and G. M. Burghardt (eds.), The Cognitive Animal: Empirical and Theoretical Perspectives on Animal Cognition, pp. 257-264. Cambridge, MA: The MIT Press.","keywords":""},{"citation_id":5700,"title":"The Language Instinct: How the Mind Creates Language","pubtype":"book","authors":["Pinker, Steven"],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"William Morrow and Co. / HarperCollins","location":"New York","volume":"","year":"1994","owner":"colallen","raw":"Pinker, Steven. 1994. The Language Instinct: How the Mind Creates Language. New York: HarperCollins Publishers.","keywords":""},{"citation_id":5701,"title":"Episodic-like memory during cache recovery by scrub jays","pubtype":"article","authors":["Clayton, Nicola S.","Dickinson, Anthony"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Nature","month":"","number":"","pages":"272-274","publisher":"","location":"","volume":"395","year":"1998","owner":"colallen","raw":"Clayton, N.S. and Dickinson, A. (1998) Episodic-like memory during cache recovery by scrub jays. Nature 395, 272–274","keywords":""},{"citation_id":5703,"title":"Mirror self-recognition in the bottlenose dolphin: A case of cognitive convergence","pubtype":"article","authors":["Reiss, Diana","Marino, Lori"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Proceedings of the National Academy of Sciences","month":"","number":"","pages":"5937-5942","publisher":"","location":"","volume":"98","year":"2001","owner":"colallen","raw":"Reiss, Diana and Lori Marino. 2001. \"Mirror self-recognition in the bottlenose dolphin: A case of cognitive convergence.\" Proceedings of the National Academy of Science 98:5937-5942.","keywords":""},{"citation_id":5704,"title":"‘Insight’ in the pigeon: antecedents and determinants of an intelligent performance","pubtype":"article","authors":["Epstein, R.","Kirshnit, C. E.","Lanza, R. P.","Rubin, L. C."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Nature","month":"","number":"","pages":"61-62","publisher":"","location":"","volume":"308","year":"1984","owner":"colallen","raw":"Epstein, R. Kirshnit, C.E., Lanza, R.P., Rubin, L.C. (1984) ‘Insight’ in the pigeon: antecedents and determinants of an intelligent performance. Nature 308, 61–62","keywords":""},{"citation_id":5705,"title":"Beliefs about beliefs: Representation and constraining function of wrong beliefs in young children’s understanding of deception","pubtype":"article","authors":["Wimmer, Heinz","Perner, Josef"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Cognition","month":"","number":"","pages":"103-128","publisher":"","location":"","volume":"13","year":"1983","owner":"colallen","raw":"Wimmer, H., and Perner, J. (1983). Beliefs about beliefs: Representation and constraining function of wrong beliefs in young children’s understanding of deception. Cognition 13: 103–128.","keywords":""},{"citation_id":5706,"title":"Pretend play, mirror self-recognition and imitation: A longitudinal investigation through the second year.","pubtype":"article","authors":["Nielsen, Mark","Dissanayake, Cheryl"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Infant Behavior and Development (2004)","month":"","number":"","pages":"342-365","publisher":"","location":"","volume":"27","year":"2004","owner":"colallen","raw":"Nielsen and Dissanayake. Pretend play, mirror self-recognition and imitation: A longitudinal investigation through the second year. Infant Behavior and Development (2004) vol. 27 (3) pp. 342-365","keywords":""},{"citation_id":5707,"title":"Implicit understanding of belief","pubtype":"article","authors":["Clements, W. A.","Perner, J."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Cognitive Development","month":"","number":"","pages":"377-395","publisher":"","location":"","volume":"9","year":"1994","owner":"colallen","raw":"Clements, W. A., and Perner, J. (1994). Implicit understanding of belief. Cognitive Development, 9, 377-395.","keywords":""},{"citation_id":5708,"title":"A nonverbal theory of mind test: The performance of children and apes","pubtype":"article","authors":["Call, Josep","Tomasello, Michael"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Child Development","month":"","number":"","pages":"381-395","publisher":"","location":"","volume":"70","year":"1999","owner":"colallen","raw":"Call, J., Tomasello, M. 1999. A nonverbal theory of mind test: The performance of children and apes. Child Development 70: 381—395.","keywords":""},{"citation_id":5709,"title":"How abstract is symbolic thought?","pubtype":"article","authors":["Landy, David","Goldstone, Robert L."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Journal of Experimental Psychology: Learning, Memory, and Cognition","month":"","number":"4","pages":"720-733","publisher":"","location":"","volume":"33","year":"2007","owner":"colallen","raw":"Landy, D. and Goldstone, R. L. (2007): How abstract is symbolic thought? Journal of Experimental Psychology: Learning, Memory, and Cognition, 33(4), 720-733.","keywords":""},{"citation_id":5710,"title":"Formal notations are diagrams: Evidence from a production task","pubtype":"article","authors":["Landy, David","Goldstone, Robert L."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Memory & Cognition","month":"","number":"8","pages":"2033-2040","publisher":"Evidence from a production task. Memory & Cognition","location":"","volume":"35","year":"2007","owner":"colallen","raw":"Landy, D. and Goldstone, R. L. (2007): Formal notations are diagrams: Evidence from a production task. Memory & Cognition, 35(8).","keywords":""},{"citation_id":5711,"title":"You’ll see what you mean: Students encode equations based on their knowledge of arithmetic","pubtype":"article","authors":["McNeil, N. M.","Alibali, M. W."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Cognitive Science","month":"","number":"","pages":"451-466","publisher":"","location":"","volume":"28","year":"2004","owner":"colallen","raw":"McNeil, N. M., & Alibali, M. W. (2004). You’ll see what you mean: Students encode equations based on their knowledge of arithmetic. Cognitive Science, 28, 451-466.","keywords":""},{"citation_id":5712,"title":"Why won’t you change your mind? Knowledge of operational patterns hinders learning and performance on equations","pubtype":"article","authors":["McNeil, N. M.","Alibali, M. W."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Child Development","month":"","number":"","pages":"883-899","publisher":"","location":"","volume":"76","year":"2005","owner":"colallen","raw":"McNeil, N. M., & Alibali, M. W. (2005). Why won’t you change your mind? Knowledge of operational patterns hinders learning and performance on equations. Child Development, 76, 883-899.","keywords":""},{"citation_id":5713,"title":"Human Reasoning and Cognitive Science","pubtype":"book","authors":["Stenning, Keith","van Lambalgen, Michiel"],"abs":"book","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"","month":"","number":"","pages":"","publisher":"MIT Press","location":"Cambridge, MA","volume":"","year":"2008","owner":"colallen","raw":"Stenning, K. and van Lambalgen, M. 2008. Human Reasoning and Cognitive Science. Cambridge, MA: MIT Press.","keywords":""},{"citation_id":5714,"title":"A critique of Konrad Lorenz’s theory of instinctive behavior","pubtype":"article","authors":["Lehrman, Daniel S."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Quarterly Review of Biology","month":"","number":"4","pages":"337-63","publisher":"","location":"","volume":"28","year":"1953","owner":"colallen","raw":"Lehrman, D. (1953). A critique of Konrad Lorenz’s theory of instinctive behavior. Quarterly Review of Biology, 28, 337–63.","keywords":""},{"citation_id":5715,"title":"Semantic and conceptual issues in the nature-nurture problem","pubtype":"inbook","authors":["Lehrman, Daniel S."],"abs":"inbook","doi":"","url":"","booktitle":"Development and Evolution of Behavior: Essays in Memory of T.C. Schneirla","chapter":"","edition":"","editor":"Lehrman D.S., Rosenblatt J.S.,","translator":"","journal":"","month":"","number":"","pages":"17-52","publisher":"W. H. Freeman","location":"San Francisco","volume":"","year":"1970","owner":"colallen","raw":"Lehrman D.S. 1970. Semantic and conceptual issues in the nature-nurture problem. In: Aronson L.R., Tobach E., Lehrman D.S. and Rosenblatt J.S. (eds), in Development and Evolution of Behavior: Essays in Memory of T.C. Schneirla. Freeman, San Francisco, pp. 17–52.","keywords":""},{"citation_id":5716,"title":"The Stanford Encyclopedia of Philosophy","pubtype":"web_published","authors":["Zalta, Edward N."],"abs":"web_published","doi":"","url":"http://plato.stanford.edu/","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Stanford Encyclopedia of Philosophy","month":"","number":"","pages":"","publisher":"","location":"","volume":"","year":"2010","owner":"colallen","raw":"Zalta, Edward N. (2010) The Stanford Encyclopedia of Philosophy.","keywords":""},{"citation_id":10579,"title":"From cell-surface receptors to higher learning: A whole world of experience","pubtype":"inbook","authors":["Allen, Colin","Stotz, Karola"],"abs":"inbook","doi":"","url":"","booktitle":"Philosophy of Behavioral Biology","chapter":"","edition":"","editor":"Reydon, T., Plaisance, K.","translator":"","journal":"","month":"","number":"","pages":"","publisher":"Springer","location":"Berlin","volume":"","year":"forthcoming","owner":"colallen","raw":"","keywords":""},{"citation_id":10580,"title":"Designing minds","pubtype":"article","authors":["Blumberg, Mark S.","Wasserman, Edward A."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"APS Observer","month":"","number":"10","pages":"25-26","publisher":"","location":"","volume":"19","year":"2006","owner":"colallen","raw":"","keywords":""},{"citation_id":10581,"title":"undecided","pubtype":"article","authors":["Whiten, A."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"undecided","month":"","number":"","pages":"737-740","publisher":"","location":"","volume":"437","year":"2005","owner":"colallen","raw":"Whiten, A., Horner, V. & deWaal, F.B.M. Conformity to cultural norms of tool use in chimpanzees. Nature 21 August 2005 437, 737-740.","keywords":""},{"citation_id":10582,"title":"Conformity to cultural norms of tool use in chimpanzees","pubtype":"article","authors":["de Waal, Frans B. M.","Horner, Victoria","Whiten, Andrew"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Nature","month":"","number":"","pages":"737-740","publisher":"","location":"","volume":"437","year":"2005","owner":"colallen","raw":"","keywords":""},{"citation_id":10583,"title":"Lack of comprehension of cause-effect relation in tool using capuchin monkeys (Cebus apella)","pubtype":"article","authors":["Visalberghi, E","Limongelli, L"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Journal of Comparative Psychology","month":"","number":"","pages":"15-22","publisher":"","location":"","volume":"108","year":"1994","owner":"colallen","raw":"Visalberghi E, Limongelli L (1994) Lack of comprehension of cause- eVect relation in tool using capuchin monkeys (Cebus apella). J Comp Psychol 108:15–22","keywords":""},{"citation_id":10584,"title":"Performance in a tool-using task by common chimpanzees (Pan troglodytes), bonobos (Pan paniscus), an orangutan (Pongo pygmaus) and capuchin monkeys (Cebus apella)","pubtype":"article","authors":["Visalberghi, E","Fragaszy, D M","Savage-Rumbaugh, S"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Journal of Comparative Psychology","month":"","number":"","pages":"52-60","publisher":"","location":"","volume":"109","year":"1995","owner":"colallen","raw":"Visalberghi E, Fragaszy DM, Savage-Rumbaugh S (1995) Performance in a tool-using task by common chimpanzees (Pan troglodytes), bonobos (Pan paniscus), an orangutan (Pongo pygmaus) and capuchin monkeys (Cebus apella). J Comp Psychol 109:52–60","keywords":""},{"citation_id":10585,"title":"Causal Cognition in Human and Nonhuman Animals: A Comparative, Critical Review","pubtype":"article","authors":["Povinelli, Daniel J.","Penn, Derek C."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Annual Review of Psychology","month":"","number":"","pages":"97-118","publisher":"","location":"","volume":"58","year":"2007","owner":"colallen","raw":"","keywords":""},{"citation_id":10586,"title":"The emergence of knapping and vocal expression embedded in a Pan/Homo culture","pubtype":"article","authors":["Savage-Rumbaugh, E. S.","Fields, W. M.","Spircu, T."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Biology & Philosophy","month":"","number":"4","pages":"541-575","publisher":"","location":"","volume":"19","year":"2004","owner":"colallen","raw":"Savage-Rumbaugh, E. S., Fields, W. M., and Spircu, T. 2004, 'The emergence of knapping and vocal expression embedded in a Pan/Homo culture', Biology & Philosophy, 19 (4): 541-575.","keywords":""},{"citation_id":10588,"title":"Episodic memory and autonoesis: Uniquely human?","pubtype":"inbook","authors":["Tulving, Endel"],"abs":"inbook","doi":"","url":"","booktitle":"The missing link in cognition: Evolution of self-knowing consciousness","chapter":"","edition":"","editor":"Terrace, H.; Metcalfe, J.","translator":"","journal":"","month":"","number":"","pages":"3-56","publisher":"Oxford University Press","location":"Oxford","volume":"","year":"2005","owner":"colallen","raw":"Tulving, Endel (2005). Episodic memory and autonoesis: Uniquely human? In: H. Terrace & J. Metcalfe (Eds.) The missing link in cognition: Evolution of self-knowing consciousness, Oxford University Press, New York, pp. 3-56.","keywords":""},{"citation_id":10589,"title":"Cotton-Top Tamarins (Saguinus oedipus) Fail to Show Mirror-Guided Self-Exploration","pubtype":"article","authors":["Hauser, Marc D.","Miller, Cory T.","Liu, Katie","Gupta, Renu"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"American Journal of Primatology","month":"","number":"","pages":"131-137","publisher":"","location":"","volume":"53","year":"2001","owner":"colallen","raw":"","keywords":""},{"citation_id":10591,"title":"Rhesus Monkeys (Macaca mulatta) Do Recognize Themselves in the Mirror: Implications for the Evolution of Self-Recognition","pubtype":"article","authors":["Rajala, Abigail Z","Reininger, Katharine R","Lancaster, Kimberly M","Populin, Luis C"],"abs":"article","doi":"10.1371/journal.pone.0012865","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"PLoS ONE","month":"","number":"9","pages":"e12865","publisher":"","location":"","volume":"5","year":"2010","owner":"colallen","raw":"Rajala AZ, Reininger KR, Lancaster KM, Populin LC, 2010 Rhesus Monkeys (Macaca mulatta) Do Recognize Themselves in the Mirror: Implications for the Evolution of Self-Recognition. PLoS ONE 5(9): e12865. doi:10.1371/journal.pone.0012865","keywords":""},{"citation_id":10592,"title":"Why don’t apes ape more?","pubtype":"inbook","authors":["Jones, Susan S."],"abs":"inbook","doi":"","url":"","booktitle":"Perspectives on imitation: From cognitive neuroscience to social science","chapter":"","edition":"","editor":"S. Hurley, N. Chater","translator":"","journal":"","month":"","number":"","pages":"297-301","publisher":"MIT Press","location":"Cambridge, MA","volume":"","year":"2005","owner":"colallen","raw":"Jones, S. S., 2005, 'Why don’t apes ape more?' In: Perspectives on imitation: From cognitive neuroscience to social science, edited by S. Hurley and N. Chater, Cambridge, MA: MIT Press.","keywords":""},{"citation_id":10593,"title":"The Role of Mirror Neurons in Imitation","pubtype":"inbook","authors":["Jones, Susan S."],"abs":"inbook","doi":"","url":"","booktitle":"Perspectives on imitation: Vol. 1: From neuroscience to social science","chapter":"","edition":"","editor":"Susan Hurley, Nick Chater","translator":"","journal":"","month":"","number":"","pages":"205-210","publisher":"MIT Press","location":"Cambridge, MA","volume":"","year":"2005","owner":"colallen","raw":"Jones, Susan S. (2005) The Role of Mirror Neurons in Imitation. In Susan Hurley & Nick Chater, (Eds). Perspectives on imitation: From neuroscience to social science: Vol. 1: Mechanisms of imitation and imitation in animals (2005). Cambridge, MA, US: MIT Press, 205-210.","keywords":""},{"citation_id":10594,"title":"Clever animals and killjoy explanations in comparative psychology","pubtype":"article","authors":["Shettleworth, Sara J."],"abs":"article","doi":"10.1016/j.tics.2010.07.002","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Trends in Cognitive Sciences","month":"","number":"","pages":"","publisher":"","location":"","volume":"","year":"in press","owner":"colallen","raw":"","keywords":""},{"citation_id":10595,"title":"Avoiding association when its behaviorism you really hate","pubtype":"inbook","authors":["Smith, Linda B."],"abs":"inbook","doi":"","url":"","booktitle":"Breaking the word learning barrier","chapter":"","edition":"","editor":"Golinkoff, R., Hirsh-Pasek, K.","translator":"","journal":"","month":"","number":"","pages":"169-174","publisher":"Oxford University Press","location":"Oxford","volume":"","year":"2000","owner":"colallen","raw":"Smith, Linda B. (2000) Avoiding association when its behaviorism you really hate. In R. Golinkoff & K Hirsh-Pasek. (Eds.) Breaking the word learning barrier. Oxford: Oxford University Press, 169-174.","keywords":""},{"citation_id":10596,"title":"A theory of Pavlovian conditioning: Variations in the effectiveness of reinforcement and nonreinforcement","pubtype":"inbook","authors":["Rescorla, Robert A.","Wagner, Allan R."],"abs":"inbook","doi":"","url":"","booktitle":"Classical Conditioning II: Current Research and Theory","chapter":"","edition":"","editor":"Black AH, Prokasy WF","translator":"","journal":"64-","month":"","number":"","pages":"64-99","publisher":"Appleton Century Crofts","location":"New York","volume":"","year":"1972","owner":"colallen","raw":"Rescorla RA, Wagner AR. A theory of Pavlovian conditioning: Variations in the effectiveness of reinforcement and nonreinforcement. In: Classical Conditioning II: Current Research and Theory (Eds Black AH, Prokasy WF) New York: Appleton Century Crofts, pp. 64-99, 1972","keywords":""},{"citation_id":10597,"title":"Evolution of an elemental theory of Pavlovian conditioning","pubtype":"article","authors":["Wagner, Allan R."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Learning & Behavior","month":"","number":"3","pages":"253-365","publisher":"","location":"","volume":"36","year":"2008","owner":"colallen","raw":"","keywords":""},{"citation_id":10598,"title":"Toward a universal law of generalization for psychological science","pubtype":"article","authors":["Shepard, Roger N."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Science","month":"","number":"4820","pages":"1317-1323","publisher":"","location":"","volume":"237","year":"1987","owner":"colallen","raw":"","keywords":""},{"citation_id":10599,"title":"Features of similarity","pubtype":"article","authors":["Tversky, Amos"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Psychological Review","month":"","number":"4","pages":"327-352","publisher":"","location":"","volume":"84","year":"1977","owner":"colallen","raw":"Tversky, A. (1977). Features of similarity.Psychological Review, 84(4), 327-352","keywords":""},{"citation_id":10600,"title":"Nonintentional similarity processing","pubtype":"inbook","authors":["Markman, Arthur B.","Gentner, Dedre"],"abs":"inbook","doi":"","url":"","booktitle":"The new unconscious","chapter":"","edition":"","editor":"T. Hassin, J. Bargh, J. Uleman","translator":"","journal":"","month":"","number":"","pages":"107-137","publisher":"Oxford University Press","location":"New York","volume":"","year":"2005","owner":"colallen","raw":"","keywords":""},{"citation_id":10601,"title":"Categorical Invariance and Structural Complexity in Human Concept Learning","pubtype":"article","authors":["Vigo, Ronaldo"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Journal of Mathematical Psychology","month":"","number":"","pages":"203-221","publisher":"","location":"","volume":"53","year":"2009","owner":"colallen","raw":"Vigo, Ronaldo (2009) Categorical Invariance and Structural Complexity in Human Concept Learning. Journal of Mathematical Psychology 53: 203-221.","keywords":""},{"citation_id":10602,"title":"Modal Similarity","pubtype":"article","authors":["Vigo, Ronaldo"],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Journal of Experimental and Theoretical Artificial Intelligence","month":"","number":"3","pages":"181-196","publisher":"","location":"","volume":"21","year":"2009","owner":"colallen","raw":"Vigo, Ronaldo (2009). Modal Similarity. Journal of Experimental and Theoretical Artificial Intelligence, 21 (3): 181–196","keywords":""},{"citation_id":10603,"title":"Space time semantics and the child","pubtype":"inbook","authors":["Clark, H. H."],"abs":"inbook","doi":"","url":"","booktitle":"Cognitive development and the acquisition of language","chapter":"","edition":"","editor":"Moore, T.E.","translator":"","journal":"T","month":"","number":"","pages":"27-63","publisher":"Academic Press","location":"New York","volume":"","year":"1973","owner":"colallen","raw":"Clark, H. H. (1973). Space, time, semantics and the child. In T. E. Moore (Ed.), Cognitive development and the acquisition of language (Vol. New York, pp. 27-63): Academic Press.","keywords":""},{"citation_id":10604,"title":"\"Self-awareness\" in the pigeon","pubtype":"article","authors":["Skinner, B. F.","Epstein, R.","Lanza, R. P."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Science","month":"","number":"","pages":"695-696","publisher":"the pigeon, Science","location":"","volume":"212","year":"1981","owner":"colallen","raw":"Epstein, R.P. Lanza and B.F. Skinner, “Self- awareness” in the pigeon, Science 212 695-696","keywords":""},{"citation_id":11167,"title":"Self-Recognition in an Asian Elephant","pubtype":"article","authors":["Reiss, D.","Waal, F.","Plotnik, J. M."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Proceedings of the National Academy of Sciences","month":"","number":"","pages":"17053-17057","publisher":"","location":"","volume":"103","year":"2006","owner":"sep","raw":"Plotnik, J. M., de Waal, F., & Reiss, D. (2006). “Self-Recognition in an Asian Elephant,” Proceedings of the National Academy of Sciences, 103: 17053–17057.","keywords":""},{"citation_id":11180,"title":"Self-recognition in primates: phylogeny and the salience of species-typical features","pubtype":"article","authors":["Hauser, Marc D.","Kralik, J.","Botto, C.","Garrett, M.","Oser, J."],"abs":"article","doi":"","url":"","booktitle":"","chapter":"","edition":"","editor":"","translator":"","journal":"Proceedings of the National Academy of Sciences","month":"","number":"","pages":"10811-10814","publisher":"","location":"","volume":"92","year":"1995","owner":"sep","raw":"Hauser, M.D., Kralik J., Botto-Mahan, C., Garrett, M., Oser, J .(1995) Self-recognition in primates: phylogeny and the salience of species-typical features. Proceedings of the National Academy of Sciences, 92: 10811–10814.","keywords":""}]

//apaAuthorFormat takes the author array from JSON data and splits each element into a new array containing first and last names
//builds up author name for APA style citation
//still need 7+ author format 
function apaAuthorFormat(authorsArray) {
	var formattedAuthor = "";
	//loop through all names in author array and split each name into array containing first/last names
	for (var i = 0; i < authorsArray.length; i++) {
		var fullNameArr = authorsArray[i].split(",");
		var firstInitial = fullNameArr[1].substring(0,2);
		var lastName = fullNameArr[0];
		//split into array containing first name and initials if they exist
		var initialsArr = fullNameArr[1].split(" ");
		//if initials exist, create midInitials variable
		if (initialsArr[2]) 
			{
			var midInitials = initialsArr[2];
			//account for full name in data
			if (midInitials[1] != ".") 
				{
				midInitials = midInitials.substring(0,1) + ". ";
				}
			//if there's more than 1 intitial or suffix
			if (initialsArr.length > 2) 
				{
				//add more than 1 initial if it exists
				//account for full name necessary?
				for (var j = 3; j < initialsArr.length; j++) 
					{
					//add comma before suffix
					if (initialsArr[j] === "Jr." || "Sr.") 
						{
						midInitials += ", " + initialsArr[j];
						}
					else 
						{
						midInitials += " " + initialsArr[j];
						}
					}
				}
			}
		//format for citations with only 1 author
		if (authorsArray.length === 1) {
			//removes firstInitial if author does not have one (i.e. Aristotle)
			if (firstInitial === " ") {
				formattedAuthor += lastName + ".";
			}
			else {
				if (midInitials) {
					formattedAuthor += lastName + "," + firstInitial + ". " + midInitials;
				}
				else {
					formattedAuthor += lastName + "," + firstInitial + ".";
				}
			}
		}	
		//format for citations with more than 1 author
		else {
			//adds & before formattedAuthor if it is the last element in array
			if (i === (authorsArray.length - 1)) {
				//removes firstInitial if author does not have one
				if (firstInitial === " ") {
					formattedAuthor += "& " + lastName + ".";
				}
				else {
					if (midInitials) {
						formattedAuthor += " & " + lastName + "," + firstInitial + ". " + midInitials;
					}

					else {
						formattedAuthor += "& " + lastName + "," + firstInitial + ". ";
					}
				}	
			}
			else {
				//removes firstInitial if author does not have one
				if (firstInitial === " ") {
					formattedAuthor += lastName + ", ";
				 }
			 	else {
			 		if (midInitials) {
			 			formattedAuthor += lastName + "," + firstInitial + ". " + midInitials + ", ";
			 		}
			 		else {
			 			formattedAuthor += lastName + "," + firstInitial + "., ";
			 		}
			 	}
			}
		}
		//need format for citation with 7+ authors
	}
	return formattedAuthor;
}	

//mlaAuthorFormat formats author array for mla style
function mlaAuthorFormat(authorsArray) {
	//first name is last name, first name
	var formattedAuthor = authorsArray[0];
	//each subsequent name needs to be first name, last name
	if (authorsArray.length > 1) {
		for (var i = 1; i < authorsArray.length; i++) {
			var fullNameArr = authorsArray[i].split(",");
			var firstName = fullNameArr[1];
			var lastName = fullNameArr[0];
			//add 'and' for last author
			if (i === (authorsArray.length -1)) {
				formattedAuthor += ", and " + firstName + " " + lastName;
			}
			else {
				formattedAuthor += ", " + firstName + " " + lastName;
			}
		}
	}
	//add a period to the end of the author string
	if (formattedAuthor.slice(-1) != ".") {
		formattedAuthor += ".";
	}
	return formattedAuthor;
}

//apaEditorFormat edits editor data to fit APA citation style for inBook (first initials + last name)
//may not work if there is only 1 editor. Need to test/fix (I think I fixed this?)
function apaEditorFormat(editorsStr) {
	var formattedEdName = "";
	var alphaArray = [];
	//split editors string into an array
	edSplit = editorsStr.split(";");
	//creates a new array which switches first/last names in edSplit in order to alphabetize 
	for (var i = 0; i < edSplit.length; i++) {
		newSplit = edSplit[i].split(",");
		newElem = newSplit[1] + "," + newSplit[0];
		alphaArray.push(newElem);
		alphaArray.sort();
	}
	//loop through names in alphabetized editor array and split into array containing first/last names
	for (var i = 0; i < alphaArray.length; i++) {
		var edNameSplit = alphaArray[i].split(",");
		var initials = edNameSplit[0];
		//check to make sure initials is not full first name
		if (initials[2] != ".") {
			initials = initials[1] + ".";
		} 
		var edLastName = edNameSplit[1];
		//citation with single editor
		if (edSplit.length === 1) {
			formattedEdName += initials + " " + edLastName + " (Ed.)";
		}
		//citation with more than 1 editor
		else {
			//adds APA styling
			if (i === edSplit.length - 1) {
				formattedEdName += " & " + initials + " " + edLastName + " (Eds.)";	
			}
			else {
				formattedEdName += initials + " " + edLastName + ",";
			}
		}
		
	}
	return formattedEdName;
}

//formats editors to mla style
function mlaEditorFormat(editorsStr) {
	//do something
}

//replaces 'and' with '&' in translator string
function transFormat(transStr) {
	var formattedTrans = transStr.replace("and", "&");
	return formattedTrans;
}

//Determines if author is known
function authorKnown(citation) {
	if (citation.authors.length > 0) {
		citation.authorKnown = true;
	}
}

//Determines pubtype and sets logic flags for template
function setTemplateLogic(citation) {
	var pubtype = citation.pubtype;
	if (pubtype === "book") {
		citation.pubtypeBook = true;
	}
	else if (pubtype === "unknown") {
		citation.pubtypeUnknown = true;
		var apaEdName = apaEditorFormat(citation.editor);
		citation.apaEds = apaEdName;
	}
	else if (pubtype === "inbook") {
		citation.pubtypeInbook = true;
		var apaEdName = apaEditorFormat(citation.editor);
		var mlaEdName = mlaEditorFormat(citation.editor);
		citation.apaEds = apaEdName;
		citation.mlaEds = mlaEdName;
	}
	else if (pubtype === "article") {
		citation.pubtypeArticle = true;
	}
	else if (pubtype === "translated_book") {
		citation.pubtypeTransBook = true;
		var apaTrans = transFormat(citation.translator);
		citation.apaTrans = apaTrans
	}
	else if (pubtype === "edited_book") {
		citation.pubtypeEditedBook = true;
		var apaEdName = apaEditorFormat(citation.editor);
	}
	else if (pubtype === "web_published") {
		citation.pubtypeWebPublished = true;
	}
	else if (pubtype === "misc") {
		citation.pubtypeMisc = true;
	}

	else if (pubtype === "proceedings") {
		citation.pubtypeProceedings = true;
	}
	//determines if author is known and formats author if true
	authorKnown(citation);
	if (citation.authorKnown) {
		var apaAuthors = apaAuthorFormat(citation.authors);
		var mlaAuthors = mlaAuthorFormat(citation.authors);
		citation.apaAuthors = apaAuthors;
		citation.mlaAuthors = mlaAuthors;
	}
	//citation.apaAuthors = apaAuthors;
}

// For loop through JSON data and adds template to table
function citationTable(template, data) {
	var tpl = template;
	for (var i = 0; i < data.length; i++) {
	    //variable citation is assigned to whichever part of the array the loop is at
		var citation = data[i];
		//sets logic flags for template
		setTemplateLogic(citation);
		//append rendered template to citation_table in main
		var output = Mustache.render(tpl, citation);
		$('#citation_table').append(output);
	}
}

var apa_template = $('#apa_template').html();
var mla_template = $('#mla_template').html();
citationTable(mla_template, data4);

